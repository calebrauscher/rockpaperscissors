<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>RockPaperScissors</title>
  <link href="style.css" rel="stylesheet" type="text/css" />
</head>

<script>
    function getRandomInteger(min, max){
        console.log(Math.floor(Math.random() * (max-min+1)) + min);
        return Math.floor(Math.random() * (max-min+1)) + min;
    }
    function computerPlay(min, max){
        let value = getRandomInteger(min, max);
        console.log(value);
        if (value === 1){
            return "paper";
        } else if(value === 2){
            return "rock";
        } else {
            return "scissors";
        }
    }

    function playRound(playerSelection, computerSelection){
        console.log(playerSelection);
        console.log(computerSelection);
        playerSelection = playerSelection.toLowerCase();
        if (playerSelection === computerSelection){
            return `Tie! ${playerSelection} ties ${computerSelection}`
        } else if (playerSelection === "paper"){
            if(computerSelection === "rock"){
                return `You win! ${playerSelection} beats ${computerSelection}`;
            }else {
                return `You lose! ${computerSelection} beats ${playerSelection}`;
            }
        } else if (playerSelection == "rock"){
            if(computerSelection === "scissors"){
                return `You win! ${playerSelection} beats ${computerSelection}`;
            }else {
                return `You lose! ${computerSelection} beats ${playerSelection}`;
            }
        } else if (playerSelection == "scissors"){
            if(computerSelection === "paper"){
                return `You win! ${playerSelection} beats ${computerSelection}`;
            }else {
                return `You lose! ${computerSelection} beats ${playerSelection}`;
            }
        }
    }

    function game(){
        let playerWins = 0;
        let computerWins = 0;
        for(let i = 0; i<5; i++){
            let result = playRound(prompt("Select Rock, Paper, or Scissors"), computerPlay(1,3));
            let re = /win!/;
            if (re.test(result)){
                playerWins += 1;
            } else {
                computerWins +=1;
            }
        }
        if(playerWins > computerWins){
            return `You have ${playerWins} wins and the computer has ${computerWins} wins`;
        } else {
            return `The computer has ${computerWins} wins and you have ${playerWins} wins`;
        }
    }

    console.log(game());
</script>
</html>